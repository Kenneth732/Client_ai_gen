!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7a5c0137-d363-4b2d-af0e-67706577fe19",e._sentryDebugIdIdentifier="sentry-dbid-7a5c0137-d363-4b2d-af0e-67706577fe19")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[258],{20082:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/styles/public/model/[id]",function(){return n(91651)}])},38271:function(e,t,n){"use strict";var l=n(85893);t.Z=()=>(0,l.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"relative h-12 w-12 flex-shrink-0 flex-grow-0",preserveAspectRatio:"xMidYMid meet",children:[(0,l.jsx)("path",{d:"M37.5 10.5V7.5C37.5 6.70435 37.1839 5.94129 36.6213 5.37868C36.0587 4.81607 35.2956 4.5 34.5 4.5C17.9092 4.5 19.0362 4.5 4.5 4.5C3.70435 4.5 2.94129 4.81607 2.37868 5.37868C1.81607 5.94129 1.5 6.70435 1.5 7.5V34.1",stroke:"#550FD0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M7.5 37.5V13.5C7.5 12.7044 7.81607 11.9413 8.37868 11.3787C8.94129 10.8161 9.70435 10.5 10.5 10.5H40.5C41.2956 10.5 42.0587 10.8161 42.6213 11.3787C43.1839 11.9413 43.5 12.7044 43.5 13.5V16.5",stroke:"#550FD0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M43.5 16.5H16.5C15.7044 16.5 14.9413 16.8161 14.3787 17.3787C13.8161 17.9413 13.5 18.7044 13.5 19.5V40.5C13.5 41.2956 13.8161 42.0587 14.3787 42.6213C14.9413 43.1839 15.7044 43.5 16.5 43.5H43.5C44.2956 43.5 45.0587 43.1839 45.6213 42.6213C46.1839 42.0587 46.5 41.2956 46.5 40.5V19.5C46.5 18.7044 46.1839 17.9413 45.6213 17.3787C45.0587 16.8161 44.2956 16.5 43.5 16.5Z",stroke:"#550FD0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M22.5 26.25C22.3011 26.25 22.1103 26.171 21.9697 26.0303C21.829 25.8897 21.75 25.6989 21.75 25.5C21.75 25.3011 21.829 25.1103 21.9697 24.9697C22.1103 24.829 22.3011 24.75 22.5 24.75",stroke:"#AF4AEA",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M22.5 26.25C22.6989 26.25 22.8897 26.171 23.0303 26.0303C23.171 25.8897 23.25 25.6989 23.25 25.5C23.25 25.3011 23.171 25.1103 23.0303 24.9697C22.8897 24.829 22.6989 24.75 22.5 24.75",stroke:"#AF4AEA",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M40.4998 37.5027L34.6798 28.7727C34.5447 28.5689 34.3618 28.4012 34.1471 28.2843C33.9323 28.1673 33.6923 28.1046 33.4478 28.1017C33.2033 28.0987 32.9617 28.1556 32.7442 28.2673C32.5267 28.379 32.3398 28.5422 32.1998 28.7427L28.1998 34.4447L25.7278 32.4667C25.5652 32.3373 25.3774 32.243 25.1765 32.1898C24.9755 32.1366 24.7657 32.1256 24.5603 32.1575C24.3549 32.1895 24.1583 32.2637 23.983 32.3754C23.8077 32.4871 23.6575 32.634 23.5418 32.8067L20.4238 37.5027",stroke:"#AF4AEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},71969:function(e,t,n){"use strict";var l=n(85893),i=n(57851);t.Z=e=>{let{selectedValue:t,onChange:n,options:o}=e;return(0,l.jsx)("div",{className:"flex gap-2 sm:items-center sm:justify-center",children:o.map(e=>(0,l.jsx)("button",{type:"button",className:(0,i.m)(t===e.value?"bg-[#403E3D] text-white":"bg-[#f0f0ef] text-[#666564]","relative flex min-w-max flex-col items-center justify-center gap-2 rounded-full px-4 py-2 text-[13px] font-bold transition-all"),onClick:()=>n(e.value),children:e.label},e.value))})}},57642:function(e,t,n){"use strict";var l=n(85893),i=n(32822),o=n.n(i),s=n(38271);t.Z=()=>(0,l.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-6 py-6",children:[(0,l.jsx)("div",{className:"gap-2 rounded-full bg-[#f7f7f7] p-7",children:(0,l.jsx)(s.Z,{})}),(0,l.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-2",children:[(0,l.jsx)("p",{className:"text-center text-lg font-bold text-black ",children:"Nothing has been created using this style yet."}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center text-center text-base text-[#666564]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1.5 self-stretch",children:[(0,l.jsx)("p",{children:"Tap"}),(0,l.jsx)("div",{className:"items-center justify-center gap-2",children:(0,l.jsx)(o(),{icon:"plus",stroke:"#666564",size:16})}),(0,l.jsx)("p",{className:"font-medium",children:"New Creation from Style"})]}),(0,l.jsx)("p",{className:"w-[279px]",children:"to make the first image."})]})]})]})},41226:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(73359),i=n(82729);function o(){let e=(0,i._)(["\n  query PublicStyleV2($modelId: Int!) {\n    publicStyleV2(modelId: $modelId) {\n      model {\n        baseCost\n        category\n        cover\n        description\n        id\n        isOwner\n        label\n        proOnly\n        public\n        publishedAt\n        publisher {\n          id\n          isFollowed\n          isPro\n          profilePhoto\n          userName\n        }\n        saved\n        savesCount\n        status\n        subCategory\n        thumbnail\n        usesCount\n        value\n      }\n      recentPrivateCreations {\n        # animations {\n        #   id\n        #   type\n        #   url\n        # }\n        aspectRatio\n        compliant\n        createdAt\n        # finalUrl\n        height\n        id\n        initialImage\n        iterations\n        # method\n        model\n        modelName\n        projectId\n        prompt\n        prompts {\n          prompt\n          weight\n        }\n        # publisher {\n        #   id\n        #   profileThumb\n        #   userName\n        # }\n        seed\n        # status\n        thumbnail\n        # upscales {\n        #   createdAt\n        #   factor\n        #   id\n        #   photo\n        #   status\n        #   updatedAt\n        #   url\n        #   variationId\n        # }\n        variations {\n          compressed\n          enhanceSettings {\n            level\n            prompt\n            style\n          }\n          expiresAt\n          id\n          initImage\n          nsfw\n          public\n          saved\n          status\n          type\n          upscaleSettings {\n            factor\n          }\n          url\n        }\n        width\n      }\n      recentPublicCreations {\n        aspectRatio\n        createdAt\n        # finalUrl\n        height\n        id\n        initialImage\n        iterations\n        # method\n        model\n        modelName\n        prompts {\n          prompt\n          weight\n        }\n        publisher {\n          id\n          userName\n        }\n        seed\n        thumbnail\n        title\n        variations {\n          compressed\n          enhanceSettings {\n            level\n            prompt\n            style\n          }\n          expiresAt\n          id\n          initImage\n          nsfw\n          public\n          saved\n          status\n          type\n          upscaleSettings {\n            factor\n          }\n          url\n        }\n        width\n      }\n    }\n  }\n"]);return o=function(){return e},e}let s=(0,n(41667).Ps)(o());var r=()=>{let[e,{loading:t,data:n,error:i,fetchMore:o,networkStatus:r}]=(0,l.t)(s,{fetchPolicy:"cache-first"});return{fetchPublicStyle:t=>{e({variables:{modelId:t}})},loading:t,data:n,error:i,fetchMore:o,networkStatus:r}}},73507:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var l=n(50319),i=n(82729);function o(){let e=(0,i._)(["\n  mutation SaveStyle($modelId: Int!) {\n    saveStyle(modelId: $modelId) {\n      model {\n        id\n        saved\n      }\n    }\n  }\n"]);return o=function(){return e},e}let s=(0,n(41667).Ps)(o()),r=()=>{let[e,{data:t,loading:n,error:i}]=(0,l.D)(s);return{saveStyle:async(t,n)=>e({variables:{modelId:t},optimisticResponse:{saveStyle:{__typename:"Mutation",model:{__typename:"Model",id:t,saved:n}}}}),data:t,loading:n,error:i}}},91651:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var l=n(20567),i=n(14932),o=n(85893),s=n(32822),r=n.n(s),a=n(2962),d=n(11163),c=n(67294),u=n(40827),p=n(1852),m=n(55678),v=n(57851),h=n(41151),f=n(81570),x=n(5050),y=n(71105),b=n(71969),g=n(35860),C=n(27199),j=n(57987),w=n(57642),S=n(31105),k=n(45970),N=e=>{let{reportLoading:t,label:n,onClose:l,styleToReport:i,reportHandler:s}=e;return(0,o.jsx)(S.G,{close:l,show:!!i,children:(0,o.jsx)(k.l,{cancelHandler:l,funcHandler:s,mainBtnName:"Report",loading:t,alertMessage:"Report a style",subMessage:"Are you sure you want to report ".concat(n," as inappropriate or violating guidelines?")})})},V=n(60421),I=n(71457),_=n(93015),A=n(73986),P=n(40243),M=n(22949),Z=n(41226),F=n(50319),E=n(82729);function R(){let e=(0,E._)(["\n  mutation ReportStyle($modelId: Int!) {\n    reportStyle(modelId: $modelId) {\n      success\n    }\n  }\n"]);return R=function(){return e},e}let L=(0,n(41667).Ps)(R());var D=()=>{let[e,{loading:t,error:n}]=(0,F.D)(L,{onCompleted:e=>{e.reportStyle.success?m.Am.success("Style reported successfully!"):m.Am.error("Failed to report the style.")},onError:e=>{m.Am.error("Error: ".concat(e.message))}});return{handleReport:t=>{e({variables:{modelId:t}})},loading:t,error:n}},H=n(73507),U=n(93436),T=n(52975),O=n(1105);let W=e=>{let{queriedCreations:t,fetchMoreHandler:n,setClickedCreationIndex:l}=e;return t&&t.length>0?null==t?void 0:t.map((e,t)=>{let i=[];return i.push((0,o.jsx)(x.B,{creation:e,fetchMoreHandler:()=>n(t),onClick:()=>{l(t)},preview:!0},"creation-".concat(e.id))),i}):(0,o.jsx)(w.Z,{})},$=e=>{let{creations:t=[],onReportClick:n,onEvolveClick:l,onFetchMore:i,onCreationClick:s,manualItems:r=[],fetchingMore:a,loading:d,networkStatus:p,columns:m}=e;return(0,o.jsx)("div",{children:t?(0,o.jsxs)(u.Z,{breakpointCols:{default:Number(m)},className:"flex gap-1",children:[d&&!a?(0,o.jsx)(I.g,{className:"h-[400px] w-full"}):t.map((e,t)=>{let a=[];return a.push((0,o.jsx)(y.N,{creation:e,grid:"masonry",OpenReportPopup:()=>{n&&n(e)},onEvolve:()=>{l&&l(e)},fetchMoreHandler:()=>{i&&i(e,t)},onClick:()=>{s&&s(e,t)}},"creation-".concat(e.id))),r.forEach(n=>{n.positions.includes(t)&&a.push((0,c.cloneElement)(n.component,{key:"".concat(n.component.key,"-").concat(e.id)}))}),a}),3===p&&a&&(0,o.jsx)(I.g,{className:" min-h-[300px] w-full "})]}):(0,o.jsx)(w.Z,{})})};var q=()=>{var e,t,n,s,x;let y=(0,d.useRouter)(),{id:S}=y.query,k=(0,A.je)(y.query.id),{fetchPublicStyle:I,loading:F,data:E,fetchMore:R,networkStatus:L}=(0,Z.Z)(),[,q]=(0,c.useState)(),[B,z]=(0,c.useState)(void 0),[Q,G]=(0,c.useState)(!1),{firebaseUser:X}=(0,M.a)(),{saveStyle:Y}=(0,H.P)(),[J,K]=(0,c.useState)(null),{handleReport:ee,loading:et}=D(),[en,el]=(0,c.useState)(void 0),[ei,eo]=(0,c.useState)("public"),es=(0,p.useMediaQuery)({query:"(max-width: 600px)"}),er=null==E?void 0:E.publicStyleV2.recentPrivateCreations,ea=()=>{J?K(null):K(null==E?void 0:E.publicStyleV2.model.id)},ed=e=>{if(null==X?void 0:X.isAnonymous){y.push({pathname:h._.login,query:{redirect:h._.create}},void 0,{shallow:!0});return}if(!e.hideSettings){if(e){let t=new URLSearchParams,{seed:n,title:l,model:i,aspectRatio:o,iterations:s,isOwner:r,initialImage:a,prompts:d,modelId:c}=e;r?t.set("seed",n.toString()):a&&t.set("initImage",a),t.set("model",i),c&&t.set("modelId",c.toString()),t.set("prompt",l),t.set("aspectRatio",o),t.set("iterations",null==s?void 0:s.toString()),d&&(null==d?void 0:d.length)>1&&t.set("negativePrompt",null==d?void 0:d[1].prompt),window.open("/app/create/art?".concat(t.toString()),"_blank")}else m.Am.error("Oops, an error occurred, please try again")}},ec=()=>{let e=window.location.href;navigator.clipboard.writeText(e).then(()=>{G(!0),m.Am.success("URL copied to clipboard!"),setTimeout(()=>G(!1),3e3)}).catch(()=>{m.Am.error("Failed to copy URL.")})},eu=()=>{I(parseInt(S,10))};(0,c.useEffect)(()=>{eu()},[]);let ep={loading:F,model:null==E?void 0:E.publicStyleV2.model,followBtn:(0,o.jsx)(g.I,{icon:!0,as:"button",artist:null==E?void 0:null===(e=E.publicStyleV2.model)||void 0===e?void 0:e.publisher,className:(0,v.m)("flex !min-w-max items-center justify-center gap-1 rounded-full border !border-[#550fd0]/20 !px-2 !py-1 text-center text-[13px] font-bold !text-[#550fd0] transition-all hover:!bg-purple-50")}),imageUrl:null==E?void 0:E.publicStyleV2.model.cover,title:null==E?void 0:E.publicStyleV2.model.label,description:null==E?void 0:E.publicStyleV2.model.description,metaInfo:[{title:"Category",value:null==E?void 0:E.publicStyleV2.model.category},{title:"Published",value:(0,T.Z)(null==E?void 0:E.publicStyleV2.model.publishedAt)||""},{title:"Uses",value:(0,O.Z)(Math.min((null==E?void 0:E.publicStyleV2.model.usesCount)||0,10001))},{title:"Saves",value:(0,O.Z)((null==E?void 0:E.publicStyleV2.model.savesCount)||0)}],cta:(0,o.jsxs)("button",{type:"button",onClick:()=>{y.push("/create/".concat(null==E?void 0:E.publicStyleV2.model.subCategory,"/?model=").concat(null==E?void 0:E.publicStyleV2.model.value,"&modelId=").concat(null==E?void 0:E.publicStyleV2.model.id),void 0,{shallow:!0})},className:"group flex min-w-max items-center justify-center gap-2 rounded-[64px] bg-[#550fd0] px-[20px] py-[12px] pr-[24px] text-center !font-satoshi text-base font-bold text-white transition-all hover:bg-[#651be5] hover:shadow-lg",children:[(0,o.jsx)("span",{className:"transition-all origin-center group-hover:rotate-90",children:(0,o.jsx)(r(),{icon:"plus",size:"22"})}),"New Creation from Style"]}),publisher:null==E?void 0:null===(t=E.publicStyleV2.model)||void 0===t?void 0:t.publisher},em=(0,c.useMemo)(()=>{var e;let t=null!==(e=null==E?void 0:E.publicStyleV2.recentPublicCreations)&&void 0!==e?e:[];return null!=t?t:[]},[E]),ev=e=>{em.length+f.GH>=100||e!==em.length-1||R({variables:{offset:null==em?void 0:em.length},updateQuery:(e,t)=>{let{fetchMoreResult:n}=t;return n&&Array.isArray(e.searchCreations)&&Array.isArray(n.searchCreations)?(0,i._)((0,l._)({},n),{searchCreations:[...e.searchCreations,...n.searchCreations]}):e}})},eh=async()=>{try{await Y(null==E?void 0:E.publicStyleV2.model.id,!(null==E?void 0:E.publicStyleV2.model.saved)),m.Am.success("Successfully ".concat((null==E?void 0:E.publicStyleV2.model.saved)?"unsaved":"saved"," style"))}catch(e){m.Am.error("There was an error while ".concat((null==E?void 0:E.publicStyleV2.model.saved)?"unsaving":"saving"," the style"))}};return(0,o.jsxs)(U.Z,{className:"mx-auto !p-0 !px-6 !pt-4",children:[(0,o.jsx)(a.PB,{title:null==E?void 0:E.publicStyleV2.model.label,description:null==E?void 0:E.publicStyleV2.model.description}),(0,o.jsxs)("div",{className:"flex flex-col-reverse justify-between w-full md:flex-row",children:[(0,o.jsx)("button",{onClick:()=>y.push("/styles/public",void 0,{shallow:!0}),type:"button",className:"hidden h-max w-max items-center justify-center gap-2 rounded-full bg-[#f0f0ef] p-3 transition-all hover:rotate-90 hover:bg-gray-200 md:flex",children:(0,o.jsx)(r(),{icon:"x",size:"24"})}),(0,o.jsxs)("div",{className:"mt-4 w-full max-w-[900px] space-y-10 md:mt-20",children:[(0,o.jsx)(V.ch,(0,l._)({},ep)),!F&&(0,o.jsx)(V.iI,{filter:(0,o.jsx)(b.Z,{options:[{value:"public",label:"Public"},{value:"private",label:"My Creations"}],selectedValue:ei,onChange:e=>{eo(e)}}),children:"public"===ei?(0,o.jsx)($,{columns:es?"2":"4",creations:em,onFetchMore:(e,t)=>{ev(t)},onCreationClick:(e,t)=>{z({index:t,creation:e})},loading:F,fetchingMore:!0,networkStatus:L,onReportClick:e=>{q(e.id)},onEvolveClick:e=>{ed(e)},manualItems:[]}):(0,o.jsx)("div",{children:er&&er.length>0?(0,o.jsx)(u.Z,{breakpointCols:{default:4},className:"flex gap-4",children:W({queriedCreations:er,fetchMoreHandler:ev,setClickedCreationIndex:el})}):(0,o.jsx)(w.Z,{})})})]}),(0,o.jsx)("div",{className:"hidden gap-4 justify-center items-center w-full sm:flex md:w-auto md:flex-col md:items-start md:justify-start",children:!F&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(V.a1,{icon:"alert-circle",tooltip:"Report",onClick:e=>{e.stopPropagation(),ea()}}),(0,o.jsx)(V.a1,{icon:"share",tooltip:Q?"Copied!":"Share",onClick:e=>{e.stopPropagation(),ec()}}),(0,o.jsx)(V.a1,{customIcon:(0,o.jsx)(r(),{icon:"bookmark",size:"24",fill:(0,_.Z)((null==E?void 0:E.publicStyleV2.model.saved)?"black":"transparent")}),tooltip:(null==E?void 0:E.publicStyleV2.model.saved)?"Unsave":"Save",onClick:()=>eh()})]})})]}),(0,o.jsx)(j.i,{show:!!B,loadingMore:F,onClose:()=>{let e=h._.searchQuery(k);(0,P.F)(e),z(void 0)},bigCreationId:null==B?void 0:null===(n=B.creation)||void 0===n?void 0:n.id,publisherUsername:null==B?void 0:null===(x=B.creation)||void 0===x?void 0:null===(s=x.publisher)||void 0===s?void 0:s.userName,onPrevious:()=>{z(e=>{let t=e.index-1;return{index:t,creation:em[t]}})},onNext:()=>{z(e=>{let t=e.index+1;return{index:t,creation:em[t]}})},hasNext:!!(B&&B.index+1<em.length),hasPrevious:!!(B&&B.index-1>=0),onShow:()=>{var e,t;if(!B||!B.creation)return;B&&ev(B.index);let n=h._.specificCreation(null===(t=B.creation)||void 0===t?void 0:null===(e=t.publisher)||void 0===e?void 0:e.userName,B.creation.id);(0,P.F)(n)}}),(0,o.jsx)(C.s,{show:!!(void 0!==en&&er),onClose:()=>{let e=h._.myCreations;(0,P.F)(e),el(void 0)},bigCreationId:void 0!==en&&er?er[en].id:void 0,onPrevious:()=>{el(e=>e-1)},onNext:()=>{void 0!==en&&ev(en+1),el(e=>e+1)},hasNext:!!(void 0!==en&&er&&en+1<er.length),hasPrevious:!!(void 0!==en&&en-1>=0),onShow:()=>{if(!er||void 0===en)return;let e=er[en],t=h._.specificMyCreation(e.id);(0,P.F)(t),(0,P.F)(t)}}),(0,o.jsx)(N,{label:null==E?void 0:E.publicStyleV2.model.label,onClose:ea,reportLoading:et,reportHandler:()=>{ee(null==E?void 0:E.publicStyleV2.model.id),ea()},styleToReport:J})]})}},52975:function(e,t){"use strict";t.Z=function(e){let t=new Date(e),n=t.getDate(),l=t.getMonth()+1,i=t.getFullYear();return"".concat(n,"/").concat(l,"/").concat(i)}},1105:function(e,t){"use strict";t.Z=function(e){return e>=1e3?"".concat((e/1e3).toFixed(0),"k+"):e.toString()}}},function(e){e.O(0,[8388,3824,3469,6565,7034,2953,7361,6120,7642,7987,6441,2888,9774,179],function(){return e(e.s=20082)}),_N_E=e.O()}]);